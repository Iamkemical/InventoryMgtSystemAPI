# Please refer https://aka.ms/HTTPSinContainer on how to setup an https developer certificate for your ASP .NET Core service.
version: '3.4'

networks:
    inventory-mgt-system-net:

volumes:
    mssql-server-linux-data:

services: 
    inventory-mgt-system-api:
        build:
            context: .
            dockerfile: Dockerfile
        container_name: inventory-mgt-system-api
        restart: always
        ports:
            - "5000:5000"
            - "5001:5001"
        networks:
            - inventory-mgt-system-net
        deploy:
            restart_policy:
                condition: on-failure
                delay: 10s

    sql-server:
        image: mcr.microsoft.com/mssql/server
        container_name: sql-server
        environment:
            SA_PASSWORD: "Stron9Pa55word"
            ACCEPT_EULA: "Y"
        volumes:
            - mssql-server-linux-data:/var/opt/mssql/data
        networks:
            - inventory-mgt-system-net

